[< Назад](readme.md)  

# Введение в программирование на C#

Добро пожаловать в этот всесторонний учебник по программированию на C# в экосистеме .NET. Эта книга предназначена для студентов, которые только начинают свой путь в объектно-ориентированное программирование на C#. В течение этого курса вы изучите фундаментальные концепции C#, включая типы данных, управляющие структуры, методы, классы, интерфейсы и многое другое. Мы также рассмотрим, как взаимодействовать с .NET CLI и обрабатывать аргументы командной строки.

C# - это современный, универсальный язык программирования, разработанный Microsoft как часть платформы .NET. Он сочетает мощь объектно-ориентированного программирования с простотой и читаемостью, что делает его отличным выбором для разработки приложений от консольных программ до веб-приложений и игр.

## Чему Вы Научитесь

К концу этого учебника вы сможете:

- Понимать базовый синтаксис C# и типы данных
- Управлять потоком программы с помощью условных операторов и циклов
- Определять и использовать методы с различными модификаторами
- Создавать и работать с классами, интерфейсами и наследованием
- Организовывать код с помощью пространств имен
- Обрабатывать аргументы командной строки
- Использовать команды .NET CLI для управления проектами

## Предварительные Требования

Этот учебник предполагает, что у вас есть базовые знания концепций программирования. Знакомство с другим языком программирования будет полезным, но не обязательным. Вам понадобится:

- Компьютер с Windows, macOS или Linux
- Установленный .NET SDK (скачайте с dotnet.microsoft.com)
- Редактор кода (рекомендуется Visual Studio Code)

## Начало Работы

Для установки .NET SDK посетите официальный сайт Microsoft и скачайте последнюю версию для вашей операционной системы. После установки откройте терминал и выполните:

```
dotnet --version
```

Если вы увидите номер версии, вы готовы к программированию!

## Обзор Глав

1. **Базовый Синтаксис и Типы Данных**: Понимание переменных, типов и основных операций
2. **Управляющие Структуры**: Принятие решений с помощью операторов if-else и switch
3. **Методы**: Создание переиспользуемых блоков кода
4. **Классы и Объектно-Ориентированное Программирование**: Построение сложных программ с концепциями ООП
5. **Пространства Имен и Сборки**: Организация и упаковка кода
6. **Аргументы Командной Строки и .NET CLI**: Взаимодействие с программами и инструментами разработки

Каждая глава включает примеры и упражнения для закрепления обучения. Давайте начнем наше путешествие в программирование на C#!

# Глава 1: Базовый Синтаксис и Типы Данных

В этой главе мы рассмотрим фундаментальные строительные блоки программ на C#: переменные, типы данных и базовый синтаксис. Понимание этих концепций важно перед переходом к более сложным темам.

## Переменные и Типы Данных

Переменная - это именованное место в памяти, которое хранит значение. В C# вы должны объявить тип данных, который будет хранить переменная, перед ее использованием.

### Примитивные Типы Данных

C# поддерживает несколько встроенных типов данных:

- `int`: Целые числа (например, 42)
- `double`: Числа с плавающей точкой с десятичными знаками (например, 3.14)
- `char`: Отдельные символы (например, 'A')
- `string`: Последовательности символов (например, "Hello World")
- `bool`: Булевы значения (true или false)

### Объявление Переменных

```csharp
int age = 25;
double height = 1.75;
char grade = 'A';
string name = "John Doe";
bool isStudent = true;
```

## Операторы

C# предоставляет различные операторы для выполнения операций над переменными:

### Арифметические Операторы
- `+` : Сложение
- `-` : Вычитание
- `*` : Умножение
- `/` : Деление
- `%` : Модуль (остаток от деления)

### Операторы Сравнения
- `==` : Равно
- `!=` : Не равно
- `<` : Меньше
- `>` : Больше
- `<=` : Меньше или равно
- `>=` : Больше или равно

### Логические Операторы
- `&&` : Логическое И
- `||` : Логическое ИЛИ
- `!` : Логическое НЕ

## Преобразование Типов

Иногда вам нужно преобразовать между различными типами данных. C# предоставляет два основных способа:

1. **Неявное преобразование**: Автоматическое, когда потеря данных не происходит
2. **Явное преобразование** (приведение): Ручное, с использованием скобок

```csharp
int number = 10;
double decimalNumber = number;  // Неявное преобразование

double pi = 3.14159;
int approximatePi = (int)pi;   // Явное преобразование (теряется точность)
```

## Оператор `sizeof`

Оператор `sizeof` возвращает размер типа данных в байтах:

```csharp
Console.WriteLine($"Размер int: {sizeof(int)} байт");    // 4 байта
Console.WriteLine($"Размер double: {sizeof(double)} байт"); // 8 байт
```

## Упражнение

Напишите программу, которая объявляет переменные различных типов, выполняет некоторые вычисления и отображает результаты. Также продемонстрируйте оператор `sizeof` для различных типов данных.

# Глава 2: Управляющие Структуры

Управляющие структуры позволяют вашей программе принимать решения и повторять действия. Эта глава охватывает условные операторы и циклы.

## Условные Операторы

### Операторы If-Else

Оператор `if-else` выполняет различные блоки кода на основе условий:

```csharp
int age = 18;

if (age >= 18)
{
    Console.WriteLine("Вы совершеннолетний.");
}
else
{
    Console.WriteLine("Вы несовершеннолетний.");
}
```

Вы можете объединить несколько условий с помощью `else if`:

```csharp
int score = 85;

if (score >= 90)
{
    Console.WriteLine("Оценка: A");
}
else if (score >= 80)
{
    Console.WriteLine("Оценка: B");
}
else if (score >= 70)
{
    Console.WriteLine("Оценка: C");
}
else
{
    Console.WriteLine("Оценка: F");
}
```

### Операторы Switch

Оператор `switch` полезен, когда вам нужно сравнить переменную с множественными значениями:

```csharp
int dayOfWeek = 3;
string dayName;

switch (dayOfWeek)
{
    case 1:
        dayName = "Понедельник";
        break;
    case 2:
        dayName = "Вторник";
        break;
    case 3:
        dayName = "Среда";
        break;
    case 4:
        dayName = "Четверг";
        break;
    case 5:
        dayName = "Пятница";
        break;
    case 6:
        dayName = "Суббота";
        break;
    case 7:
        dayName = "Воскресенье";
        break;
    default:
        dayName = "Неверный день";
        break;
}

Console.WriteLine($"День {dayOfWeek} - это {dayName}");
```

## Циклы

Циклы позволяют повторять код несколько раз.

### Цикл For

```csharp
for (int i = 0; i < 5; i++)
{
    Console.WriteLine($"Итерация {i}");
}
```

### Цикл While

```csharp
int counter = 0;
while (counter < 5)
{
    Console.WriteLine($"Счетчик: {counter}");
    counter++;
}
```

### Цикл Do-While

```csharp
int number;
do
{
    Console.Write("Введите положительное число: ");
    number = int.Parse(Console.ReadLine());
} while (number <= 0);
```

## Упражнение

Создайте программу, которая спрашивает у пользователя его возраст и определяет, может ли он голосовать, водить машину или употреблять алкоголь на основе типичных возрастных требований. Используйте как операторы if-else, так и switch в вашем решении.

# Глава 3: Методы

Методы - это переиспользуемые блоки кода, которые выполняют определенные задачи. Эта глава охватывает, как определять и использовать методы в C#.

## Объявление Метода

Метод состоит из нескольких частей:

```csharp
модификатор_доступа тип_возврата имя_метода(параметры)
{
    // Тело метода
    return значение; // Если тип возврата не void
}
```

### Модификаторы Доступа
- `public`: Доступно отовсюду
- `private`: Доступно только в том же классе
- `protected`: Доступно в том же классе и производных классах
- `internal`: Доступно в той же сборке

### Типы Возврата
- `void`: Метод не возвращает значение
- Любой тип данных: Метод возвращает значение этого типа

### Статические Методы

Статические методы принадлежат классу, а не экземплярам класса:

```csharp
public static void PrintMessage()
{
    Console.WriteLine("Привет из статического метода!");
}
```

### Методы с Возвращаемыми Значениями

```csharp
public static int AddNumbers(int a, int b)
{
    return a + b;
}
```

### Методы с Параметрами

```csharp
public static void GreetUser(string name, int age)
{
    Console.WriteLine($"Привет, {name}! Тебе {age} лет.");
}
```

## Вызов Методов

Чтобы использовать метод, вы вызываете его по имени, за которым следуют скобки:

```csharp
PrintMessage(); // Вызов статического метода

int result = AddNumbers(5, 3);
Console.WriteLine($"5 + 3 = {result}");

GreetUser("Алиса", 25);
```

## Перегрузка Методов

Вы можете определить несколько методов с одинаковым именем, но разными параметрами:

```csharp
public static int Multiply(int a, int b)
{
    return a * b;
}

public static double Multiply(double a, double b)
{
    return a * b;
}
```

## Упражнение

Создайте класс калькулятора с методами для основных арифметических операций. Реализуйте перегрузку методов для сложения и умножения, чтобы обрабатывать как целые числа, так и числа с плавающей точкой.

# Глава 4: Классы и Объектно-Ориентированное Программирование

Объектно-ориентированное программирование (ООП) - это парадигма программирования, основанная на концепции "объектов", которые могут содержать данные и код. Эта глава вводит классы, интерфейсы, наследование и другие концепции ООП.

## Классы

Класс - это шаблон для создания объектов:

```csharp
public class Person
{
    // Поля
    public string Name;
    public int Age;

    // Конструктор
    public Person(string name, int age)
    {
        Name = name;
        Age = age;
    }

    // Метод
    public void Introduce()
    {
        Console.WriteLine($"Привет, меня зовут {Name} и мне {Age} лет.");
    }
}
```

## Объекты

Объекты - это экземпляры классов:

```csharp
Person person1 = new Person("Алиса", 25);
Person person2 = new Person("Боб", 30);

person1.Introduce(); // Вывод: Привет, меня зовут Алиса и мне 25 лет.
person2.Introduce(); // Вывод: Привет, меня зовут Боб и мне 30 лет.
```

## Наследование

Наследование позволяет классу наследовать свойства и методы от другого класса:

```csharp
public class Student : Person
{
    public string Major;

    public Student(string name, int age, string major) : base(name, age)
    {
        Major = major;
    }

    public void Study()
    {
        Console.WriteLine($"{Name} изучает {Major}.");
    }
}
```

## Интерфейсы

Интерфейс определяет контракт, который классы должны реализовать:

```csharp
public interface IShape
{
    double CalculateArea();
    double CalculatePerimeter();
}

public class Circle : IShape
{
    public double Radius { get; set; }

    public Circle(double radius)
    {
        Radius = radius;
    }

    public double CalculateArea()
    {
        return Math.PI * Radius * Radius;
    }

    public double CalculatePerimeter()
    {
        return 2 * Math.PI * Radius;
    }
}
```

## Абстрактные Классы и Методы

Абстрактные классы не могут быть инстанцированы и могут содержать абстрактные методы:

```csharp
public abstract class Animal
{
    public string Name { get; set; }

    public Animal(string name)
    {
        Name = name;
    }

    public abstract void MakeSound();

    public virtual void Eat()
    {
        Console.WriteLine($"{Name} ест.");
    }
}

public class Dog : Animal
{
    public Dog(string name) : base(name) { }

    public override void MakeSound()
    {
        Console.WriteLine($"{Name} говорит Гав!");
    }

    public override void Eat()
    {
        Console.WriteLine($"{Name} ест собачий корм.");
    }
}
```

## Virtual и Override

Ключевое слово `virtual` позволяет переопределять методы в производных классах, в то время как `override` реализует переопределенный метод:

```csharp
public class BaseClass
{
    public virtual void DisplayMessage()
    {
        Console.WriteLine("Сообщение из BaseClass");
    }
}

public class DerivedClass : BaseClass
{
    public override void DisplayMessage()
    {
        Console.WriteLine("Сообщение из DerivedClass");
    }
}
```

## Упражнение

Создайте иерархию классов, представляющих различные типы транспортных средств. Реализуйте интерфейсы для транспортных средств, которые могут летать или плавать, и используйте абстрактные классы для общих свойств транспортных средств.

# Глава 5: Пространства Имен и Сборки

Пространства имен помогают организовывать код и предотвращать конфликты имен. Сборки - это физические файлы, содержащие скомпилированный код.

## Пространства Имен

Пространство имен - это контейнер для связанных классов и других типов:

```csharp
namespace MyCompany.Utilities
{
    public class MathHelper
    {
        public static int Add(int a, int b)
        {
            return a + b;
        }
    }
}

namespace MyCompany.Graphics
{
    public class DrawingHelper
    {
        public static void DrawCircle()
        {
            Console.WriteLine("Рисуем круг...");
        }
    }
}
```

## Использование Пространств Имен

Чтобы использовать типы из пространства имен, вы можете либо полностью квалифицировать имя, либо использовать директиву `using`:

```csharp
using MyCompany.Utilities;
using MyCompany.Graphics;

class Program
{
    static void Main()
    {
        int result = MathHelper.Add(5, 3);
        DrawingHelper.DrawCircle();

        // Или полностью квалифицированное:
        // int result = MyCompany.Utilities.MathHelper.Add(5, 3);
    }
}
```

## Сборки

Сборка - это скомпилированная библиотека кода. В .NET сборки - это файлы .dll или .exe. Вы можете ссылаться на внешние сборки для использования их типов:

```csharp
using System.Data.SqlClient;

// Теперь вы можете использовать SqlConnection, SqlCommand и т.д.
```

## Упражнение

Создайте простой проект библиотеки с утилитарными классами, организованными в пространствах имен. Затем создайте консольное приложение, которое ссылается на эту библиотеку и использует ее классы.

# Глава 6: Аргументы Командной Строки и .NET CLI

Эта глава охватывает, как работать с аргументами командной строки и использовать .NET CLI для управления проектами.

## Аргументы Командной Строки

Метод `Main` может принимать массив строк, представляющих аргументы командной строки:

```csharp
class Program
{
    static void Main(string[] args)
    {
        if (args.Length == 0)
        {
            Console.WriteLine("Аргументы не предоставлены.");
            return;
        }

        Console.WriteLine($"Количество аргументов: {args.Length}");
        for (int i = 0; i < args.Length; i++)
        {
            Console.WriteLine($"Аргумент {i}: {args[i]}");
        }
    }
}
```

## Разбор Аргументов Командной Строки

Общий шаблон - разбирать аргументы с флагами:

```csharp
class Program
{
    static void Main(string[] args)
    {
        string name = "Пользователь";
        int age = 0;

        for (int i = 0; i < args.Length; i++)
        {
            switch (args[i])
            {
                case "--name":
                    if (i + 1 < args.Length)
                    {
                        name = args[i + 1];
                        i++; // Пропустить следующий аргумент
                    }
                    break;
                case "--age":
                    if (i + 1 < args.Length && int.TryParse(args[i + 1], out int parsedAge))
                    {
                        age = parsedAge;
                        i++; // Пропустить следующий аргумент
                    }
                    break;
            }
        }

        Console.WriteLine($"Имя: {name}, Возраст: {age}");
    }
}
```

## Команды .NET CLI

.NET CLI предоставляет команды для создания, сборки и запуска проектов .NET.

### Создание Нового Консольного Приложения

```
dotnet new console -n MyApp
cd MyApp
```

### Сборка Проекта

```
dotnet build
```

### Запуск Проекта

```
dotnet run
```

### Добавление Ссылки на Пакет

```
dotnet add package Newtonsoft.Json
```

### Создание Библиотеки Классов

```
dotnet new classlib -n MyLibrary
```

### Публикация Приложения

```
dotnet publish -c Release -r win-x64 --self-contained
```

## Упражнение

Создайте приложение командной строки, которое принимает различные параметры (такие как пути к файлам, форматы вывода и т.д.) и выполняет различные операции на основе предоставленных аргументов. Используйте .NET CLI для сборки и запуска вашего приложения.

## Заключение

Поздравляем! Вы завершили это всестороннее введение в программирование на C#. Вы изучили базовый синтаксис, типы данных, управляющие структуры, методы, концепции объектно-ориентированного программирования, пространства имен, аргументы командной строки и использование .NET CLI.

Помните, программирование - это навык, который улучшается с практикой. Продолжайте исследовать C#, создавая собственные проекты, внося вклад в репозитории с открытым исходным кодом или изучая продвинутые темы, такие как асинхронное программирование, LINQ и веб-разработка с ASP.NET.

Удачного программирования!